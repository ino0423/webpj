<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Football Hub (Vue.js + AI)</title>
  <link rel="stylesheet" href="/style.css">
  
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>
  
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.20.0/dist/tf.min.js"></script>
</head>
<body>

  <div id="app">
    <header>
      <h1 id="page-title">âš½ í•´ì™¸ ì¶•êµ¬ ì •ë³´ ì„¼í„°</h1>
    </header>

    <nav>
      <router-link to="/">ğŸ  í™ˆ</router-link>
      <router-link to="/soccer/PL">ğŸ‡¬ğŸ‡§ EPL</router-link>
      <router-link to="/soccer/BL1">ğŸ‡©ğŸ‡ª ë¶„ë°ìŠ¤</router-link>
      <router-link to="/soccer/PD">ğŸ‡ªğŸ‡¸ ë¼ë¦¬ê°€</router-link>
      <router-link to="/soccer/FL1">ğŸ‡«ğŸ‡· ë¦¬ê·¸1</router-link>
      <router-link to="/vote">ğŸ—³ï¸ ìŠ¹ë¶€ì˜ˆì¸¡</router-link>
      <router-link to="/board">ğŸ“ ììœ ê²Œì‹œíŒ</router-link>
      <router-link to="/ai">ğŸ¤– AI ë¶„ì„</router-link> <div id="auth-menu" style="margin-left: auto; padding-right: 20px; display: flex; align-items: center;">
        <span v-if="currentUser" style="color:#dcdde1; margin-right:15px;">ğŸ‘‹ {{ currentUser }}ë‹˜</span>
        <a v-if="currentUser" href="javascript:void(0)" @click="logout" style="color:#ff7675;">ë¡œê·¸ì•„ì›ƒ</a>
        <router-link v-else to="/login" style="color:#74b9ff;">ğŸ”‘ ë¡œê·¸ì¸</router-link>
      </div>
    </nav>

    <div class="container">
        <router-view></router-view>
    </div>

    <div class="container main-content" style="margin-top: 30px;">
        <div id="disqus_thread"></div>
        <script>
            (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://web-3r5vzhuvcr.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
    </div>

    <footer>
      &copy; 2025 Football Hub (Powered by Vue.js & TensorFlow.js)
    </footer>
  </div>

  <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/67e9026344bc3b19163f7999/1inj32lhc';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
  </script>

  <script type="text/x-template" id="home-template">
    <div class="main-content">
      <h2 style="text-align:center;">ğŸ”¥ ì˜¤ëŠ˜ì˜ í•«ë§¤ì¹˜ & í•˜ì´ë¼ì´íŠ¸</h2>
      <div class="flex-box">
        <div class="side-img"><img src="/soccer1.png" onerror="this.style.display='none'"></div>
        <div class="video-box">
           <iframe width="100%" height="315" src="https://www.youtube.com/embed/Pq-6A6y-sXw" frameborder="0" allowfullscreen></iframe>
        </div>
        <div class="side-img"><img src="/soccer1.png" onerror="this.style.display='none'"></div>
      </div>
      <div style="text-align:center; margin-top:30px; padding:20px; background:#f8f9fa; border-radius:10px;">
          <p style="margin-bottom:15px; color:#555;">ìƒë‹¨ ë©”ë‰´ì—ì„œ ë¦¬ê·¸ ì •ë³´ë¥¼ í™•ì¸í•˜ê±°ë‚˜,<br>ì œê°€ ë§Œë“  ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë“¤ì„ êµ¬ê²½í•´ë³´ì„¸ìš”!</p>
          <div style="display:flex; justify-content:center; gap:10px;">
              <router-link to="/vote" class="menu-btn" style="text-align:center; display:inline-block; line-height:15px;">ğŸ† ìŠ¹ë¶€ì˜ˆì¸¡</router-link>
              <router-link to="/ai" class="menu-btn" style="background:#6c5ce7; color:white; text-align:center; display:inline-block; line-height:15px;">ğŸ¤– AI ë¶„ì„</router-link>
              <router-link to="/portfolio" class="menu-btn" style="background:#333; color:white; text-align:center; display:inline-block; line-height:15px;">ğŸ’» í¬íŠ¸í´ë¦¬ì˜¤</router-link>
          </div>
      </div>
    </div>
  </script>

  <script type="text/x-template" id="ai-template">
    <div class="main-content">
      <div style="text-align:center; margin-bottom:30px;">
          <h2>ğŸ¤– AI ìŠ¹ë¥  ì˜ˆì¸¡ê¸°</h2>
          <p style="color:#666;">TensorFlow.js ë”¥ëŸ¬ë‹ ëª¨ë¸ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ í•™ìŠµí•˜ì—¬ ìŠ¹ë¥ ì„ ì˜ˆì¸¡í•©ë‹ˆë‹¤.</p>
      </div>
  
      <div style="max-width:500px; margin:0 auto;">
          <div style="background:#f8f9fa; padding:25px; border-radius:15px; box-shadow:0 2px 10px rgba(0,0,0,0.05);">
              <h3 style="text-align:center; margin-top:0;">ğŸ“Š ì „ë ¥ ë¹„êµ (ìˆœìœ„ ì…ë ¥)</h3>
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                  <div style="text-align:center;">
                      <label style="display:block; font-weight:bold; margin-bottom:5px;">í™ˆíŒ€ ìˆœìœ„</label>
                      <input v-model.number="homeRank" type="number" class="input-field" placeholder="1~20ìœ„" style="width:80px; text-align:center;">
                  </div>
                  <div style="font-weight:bold; font-size:20px; color:#aaa;">VS</div>
                  <div style="text-align:center;">
                      <label style="display:block; font-weight:bold; margin-bottom:5px;">ì›ì •íŒ€ ìˆœìœ„</label>
                      <input v-model.number="awayRank" type="number" class="input-field" placeholder="1~20ìœ„" style="width:80px; text-align:center;">
                  </div>
              </div>
              
              <button v-if="!loading" class="menu-btn btn-home" @click="predict" style="width:100%;">ğŸš€ ìŠ¹ë¥  ì˜ˆì¸¡í•˜ê¸°</button>
              <button v-else class="menu-btn" style="width:100%; background:#ccc; cursor:not-allowed;">ğŸ”„ ëª¨ë¸ í•™ìŠµ ì¤‘... (ì ì‹œë§Œìš”)</button>
          </div>
  
          <div v-if="prediction !== null" style="margin-top:20px; padding:20px; background:#e3f2fd; border-radius:10px; text-align:center; border:2px solid #2196f3; animation: fadeIn 0.5s;">
              <h3 style="margin:0 0 10px 0;">ì˜ˆì¸¡ ê²°ê³¼</h3>
              <p style="font-size:18px; margin:0;">í™ˆíŒ€ ìŠ¹ë¦¬ í™•ë¥ : <strong style="color:#2196f3; font-size:28px;">{{ prediction }}%</strong></p>
          </div>
      </div>
    </div>
  </script>

  <script type="text/x-template" id="league-menu-template">
    <div class="main-content" style="text-align:center;">
        <img :src="logo" style="width:100px; margin-bottom:20px;">
        <h3>{{ leagueName }} ì •ë³´ë¥¼ ì„ íƒí•˜ì„¸ìš”</h3>
        <div style="display:flex; flex-direction:column; align-items:center; gap: 10px; margin-top: 20px;">
            <router-link :to="`/soccer/${code}/rank`" class="menu-btn">ğŸ† ìˆœìœ„ ë³´ê¸°</router-link>
            <router-link :to="`/soccer/${code}/schedule`" class="menu-btn">ğŸ“… ê²½ê¸° ì¼ì •</router-link>
            <router-link :to="`/soccer/${code}/results`" class="menu-btn">âš½ ê²½ê¸° ê²°ê³¼</router-link>
        </div>
        <div style="margin-top:20px;">
             <router-link to="/" class="btn-back">ë©”ì¸ìœ¼ë¡œ</router-link>
        </div>
    </div>
  </script>

  <script type="text/x-template" id="data-view-template">
    <div class="main-content">
        <div v-if="loading"><h2>Loading...</h2></div>
        <div v-else>
            <div style="text-align:center;">
                <img :src="logo" width="80"><h2>{{ title }}</h2>
            </div>
            <table v-if="type === 'rank'">
                <tr><th>ìˆœìœ„</th><th>íŒ€</th><th>ìŠ¹ì </th><th>ìŠ¹</th><th>ë¬´</th><th>íŒ¨</th></tr>
                <tr v-for="t in dataList" :key="t.rank">
                    <td>{{ t.rank }}</td>
                    <td style="text-align:left; display:flex; align-items:center; gap:10px;">
                        <img :src="t.img" width="30" height="30" style="object-fit:contain;"> {{ t.name }}
                    </td>
                    <td>{{ t.pts }}</td><td>{{ t.w }}</td><td>{{ t.d }}</td><td>{{ t.l }}</td>
                </tr>
            </table>
            <table v-if="type === 'schedule'">
                <tr><th>ë‚ ì§œ</th><th>í™ˆ</th><th>VS</th><th>ì›ì •</th></tr>
                <tr v-for="m in dataList" :key="m.date + m.home">
                    <td>{{ m.date }} {{ m.time }}</td>
                    <td style="text-align:right;">{{ m.home }} <img :src="m.homeImg" width="25" style="vertical-align:middle;"></td>
                    <td style="font-weight:bold;">VS</td>
                    <td style="text-align:left;"><img :src="m.awayImg" width="25" style="vertical-align:middle;"> {{ m.away }}</td>
                </tr>
            </table>
            <table v-if="type === 'results'">
                <tr><th>ë‚ ì§œ</th><th>í™ˆ</th><th>ì ìˆ˜</th><th>ì›ì •</th></tr>
                <tr v-for="m in dataList" :key="m.date + m.home">
                    <td>{{ m.date }}</td>
                    <td style="text-align:right;">{{ m.home }} <img :src="m.homeImg" width="25" style="vertical-align:middle;"></td>
                    <td style="font-weight:bold; color:#e84118;">{{ m.homeScore }} : {{ m.awayScore }}</td>
                    <td style="text-align:left;"><img :src="m.awayImg" width="25" style="vertical-align:middle;"> {{ m.away }}</td>
                </tr>
            </table>
            <div style="text-align:center;"><button class="btn-back" @click="$router.go(-1)">ë’¤ë¡œê°€ê¸°</button></div>
        </div>
    </div>
  </script>

  <script type="text/x-template" id="vote-template">
    <div class="main-content">
        <div style="text-align:center; margin-bottom:30px;">
            <h2>ğŸ—³ï¸ ì´ë²ˆ ì£¼ ë¹…ë§¤ì¹˜ ìŠ¹ë¶€ì˜ˆì¸¡</h2>
        </div>
        <div class="vote-container">
            <div v-for="(m, index) in matches" :key="index" class="vote-card">
                <div class="match-info">{{ m.date }} {{ m.time }} | {{ m.stadium || 'Stadium' }}</div>
                <div class="match-teams">
                    <span class="team-name">{{ m.home }}</span> vs <span class="team-name">{{ m.away }}</span>
                </div>
                <div class="vote-btns" v-if="!m.voted">
                    <button class="vote-btn btn-home" @click="castVote(m, 'home')">í™ˆìŠ¹</button>
                    <button class="vote-btn btn-draw" @click="castVote(m, 'draw')">ë¬´ìŠ¹ë¶€</button>
                    <button class="vote-btn btn-away" @click="castVote(m, 'away')">ì›ì •ìŠ¹</button>
                </div>
                <div class="vote-result-box" v-else>
                    <div class="vote-result-bar">
                        <div :style="{width: m.result.home + '%', background:'#0097e6', height:'100%'}"></div>
                        <div :style="{width: m.result.draw + '%', background:'#7f8c8d', height:'100%'}"></div>
                        <div :style="{width: m.result.away + '%', background:'#e84118', height:'100%'}"></div>
                    </div>
                    <div class="result-txt">
                        <span style="color:#0097e6">{{ m.result.home }}%</span>
                        <span style="color:#7f8c8d">{{ m.result.draw }}%</span>
                        <span style="color:#e84118">{{ m.result.away }}%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </script>

  <script type="text/x-template" id="board-template">
    <div class="main-content">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2>ğŸ“ ììœ ê²Œì‹œíŒ</h2>
            <router-link v-if="currentUser" to="/write" class="menu-btn btn-home" style="width:auto;">ê¸€ì“°ê¸°</router-link>
        </div>
        <table>
            <tr><th>ë²ˆí˜¸</th><th>ì œëª©</th><th>ì‘ì„±ì</th><th>ë‚ ì§œ</th></tr>
            <tr v-for="p in posts" :key="p.id">
                <td>{{ p.id }}</td>
                <td style="text-align:left; cursor:pointer;" @click="$router.push('/board/' + p.id)">{{ p.title }} <span v-if="p.image_url">ğŸ“·</span></td>
                <td>{{ p.author }}</td>
                <td>{{ p.date }}</td>
            </tr>
        </table>
    </div>
  </script>

  <script type="text/x-template" id="post-detail-template">
    <div class="main-content">
        <div class="post-detail-box" v-if="post">
            <div class="detail-header">
                <h2>{{ post.title }}</h2>
                <p>ì‘ì„±ì: {{ post.author }} | {{ post.date }}</p>
            </div>
            <div class="detail-content">
                <img v-if="post.image_url" :src="'/uploads/'+post.image_url" style="max-width:100%; border-radius:10px; margin-bottom:20px;">
                <p>{{ post.content }}</p>
            </div>
            <div style="margin-top:30px; border-top:1px solid #eee; padding-top:20px;">
                <h3>ğŸ’¬ ëŒ“ê¸€ ({{ comments.length }})</h3>
                <div style="margin-bottom:20px;">
                    <div v-for="c in comments" :key="c._id" style="background:#f1f2f6; padding:10px; margin-top:5px; border-radius:5px;">
                        <strong>{{ c.author }}</strong> <span style="font-size:12px; color:#666;">{{ c.date }}</span>
                        <p style="margin:5px 0 0 0;">{{ c.content }}</p>
                    </div>
                </div>
                <div style="display:flex; gap:10px;">
                    <input v-model="newComment" type="text" class="input-field" placeholder="ëŒ“ê¸€ ë‚´ìš©..." style="margin-bottom:0;">
                    <button class="menu-btn btn-home" style="width:100px; margin:0;" @click="addComment">ë“±ë¡</button>
                </div>
            </div>
            <div style="margin-top:20px; text-align:center;">
                <router-link to="/board" class="btn-back">ëª©ë¡ìœ¼ë¡œ</router-link>
                <button v-if="isAuthor" class="btn-back btn-red" @click="deletePost">ì‚­ì œ</button>
            </div>
        </div>
    </div>
  </script>

  <script type="text/x-template" id="write-template">
    <div class="main-content">
        <h2>ğŸ–Šï¸ ê¸€ì“°ê¸°</h2>
        <input v-model="title" type="text" class="input-field" placeholder="ì œëª©">
        <textarea v-model="content" class="input-field" style="height:200px;" placeholder="ë‚´ìš©"></textarea>
        <input type="file" ref="fileInput" class="input-field">
        <button class="menu-btn btn-home" @click="submitPost">ë“±ë¡í•˜ê¸°</button>
    </div>
  </script>

  <script type="text/x-template" id="login-template">
    <div class="main-content" style="text-align:center; max-width:400px; margin:auto;">
        <h2>ğŸ”‘ ë¡œê·¸ì¸</h2>
        <input v-model="username" type="text" class="input-field" placeholder="ì•„ì´ë””">
        <input v-model="password" type="password" class="input-field" placeholder="ë¹„ë°€ë²ˆí˜¸">
        <button class="menu-btn btn-home" @click="login">ë¡œê·¸ì¸</button>
        <router-link to="/register" class="menu-btn" style="display:block;">íšŒì›ê°€ì…</router-link>
    </div>
  </script>

  <script type="text/x-template" id="register-template">
    <div class="main-content" style="text-align:center; max-width:400px; margin:auto;">
        <h2>âœ¨ íšŒì›ê°€ì…</h2>
        <input v-model="username" type="text" class="input-field" placeholder="ì•„ì´ë””">
        <input v-model="password" type="password" class="input-field" placeholder="ë¹„ë°€ë²ˆí˜¸">
        <input v-model="nickname" type="text" class="input-field" placeholder="ë‹‰ë„¤ì„">
        <button class="menu-btn btn-home" @click="register">ê°€ì…í•˜ê¸°</button>
    </div>
  </script>

  <script type="text/x-template" id="portfolio-template">
    <div class="main-content">
        <div style="text-align:center; margin-bottom:30px;">
            <h2 style="font-size:28px;">ğŸ‘¨â€ğŸ’» ê°œë°œì í¬íŠ¸í´ë¦¬ì˜¤</h2>
            <div style="background:#f8f9fa; padding:20px; border-radius:10px; display:inline-block; text-align:left; max-width:600px; width:100%;">
                <p><strong>ğŸ‘¤ ì´ë¦„:</strong> ì¡°ì¸ì˜¤</p>
                <p><strong>ğŸ› ï¸ ê¸°ìˆ :</strong> Node.js, Express, MySQL, MongoDB, Vue.js, TensorFlow.js</p>
            </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <div v-for="p in projects" :key="p.title" style="border:1px solid #ddd; border-radius:10px; overflow:hidden;">
                <img :src="p.img || 'https://placehold.co/600x400'" style="width:100%; height:180px; object-fit:cover;">
                <div style="padding:20px;">
                    <h3>{{ p.title }}</h3>
                    <p>{{ p.desc }}</p>
                    <div style="margin-top:10px;">
                        <span v-for="t in (p.tech ? p.tech.split(',') : [])" style="background:#e3f2fd; color:#1976d2; font-size:12px; padding:3px 8px; border-radius:10px; margin-right:5px;">{{ t.trim() }}</span>
                    </div>
                </div>
            </div>
        </div>
        <div style="text-align:center; margin-top:30px;"><router-link to="/" class="btn-back">ë©”ì¸ìœ¼ë¡œ</router-link></div>
    </div>
  </script>

  <script src="/script.js"></script>
</body>
</html>